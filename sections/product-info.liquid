{{ custom-style.css | asset_url | stylesheet_tag }}

{% if section.settings != blank %}
  {% assign product_handle = section.settings.featured_product %}
  {% assign product = all_products[product_handle] %}
  {% if product %}
  {% endif %}
{% endif %}
<div class="custom_featured-product--wrapper">
  <div class="custom__featured-product-media">
    {% if product.images != blank %}
      <div class="custom__product-main-media">
        <img src="{{ product.images |first | image_url: width: 650 }}" width="" height="">
      </div>
      <div class="custom__product-additional-media">
        {% for image in product.images %}
          <img src="{{ image  | image_url: width: 156 }}" width="" height="">
        {% endfor %}
      </div>
    {% endif %}
  </div>
  <div class="custom__product-setting">
    <div class="custom__product-service">
      <span class="custom__product-service-title">the ultimate hybrid mattress</span>
      <span class="custom__product-service-dec">Save Up To 50%</span>
    </div>
    <div class="custom__product-reviews">
      <div class="custom__product-review-star">
        <img src="{{ section.settings.star | image_url: width: 84 }}" width="" height="">
      </div>
      <p>530 Reviews</p>
    </div>
    <div class="cstom__product-content">
      <div class="custom__product-title">
        <h3>{{ product.title }}</h3>
        <div class="custom__product-price">
          <del>{{ product.compare_at_price | money }}</del> <strong>{{ product.price | money }}</strong>
        </div>
      </div>
      <div class="custom__product-dec">
        {{ product.description }}
      </div>
    </div>
    <div class="custom__product-set">
      <div class="custom__product-setting-size">
        <label>Select your size:</label>
        <div class="custom__product-total dropdown-trigger">
          <span class="selected-option">{{ product.variants[1].title }}</span>
          <div class="custom__product-setting-detail">
            <span class="total-value">(Total Value $XX.XX)</span>
            <strong class="selected-price">{{ product.variants[1].price | money }}</strong>
            <img
              src="{{'arrow.png' |  asset_url}}"
              width="12"
              height="12"
              class="dropdown-arrow"
            >
          </div>
        </div>
        <div class="custom__product-variants dropdown-content">
          {% if product.variants.size > 0 %}
            <ul>
              {% for variant in product.variants %}
                <li data-id="{{variant.id}}" data-value="{{variant.title}}" data-price="{{variant.price | money}}">
                  <span class="variant-title">{{ variant.title }}</span>
                  <span class="variant-price">{{ variant.price | money }}</span>
                </li>
              {% endfor %}
            </ul>
          {% endif %}
        </div>
      </div>
      <div class="custom__product-setting-size">
        <label>Select mattress:</label>
        <div class="custom__product-total">
          <span>Glacier Original Hybrid</span>
          <div class="custom__product-setting-detail">
            <mark>best value</mark>
            <img
              src="{{'arrow.png' |  asset_url}}"
              width="12"
              height="12"
              class="dropdown-arrow"
            >
          </div>
        </div>
      </div>
    </div>
    <div class="custom__product-include">
      <h4>What's Included</h4>
      <div class="custom__product-include-items">
        <div class="custom__product-include-item">
          <div class="custom__product-include-item-detail">
            <img src="{{section.settings.included_img |  image_url: width: 1000}}" height="" width="" alt="">
            <span>Frame</span>
          </div>
          <span>Included</span>
        </div>
        <div class="custom__product-include-item">
          <div class="custom__product-include-item-detail">
            <img src="{{section.settings.included_img |  image_url: width: 1000}}" height="" width="" alt="">
            <span>Frame</span>
          </div>
          <span>Included</span>
        </div>
      </div>
    </div>
    <div class="custom__price">
      <div class="custom__price-saving">
        <div class="custom__price-saving-title">
          <div class="custom__price-saving-value">
            <strong>You're saving</strong>
            <span
              style="
                color: #3BCD3B;
                line-height: 105%;
              "
              >$XX.XX</span
            >
          </div>
          <span class=""> Total $XX.XX </span>
        </div>
        <div class="custom__each-price-saving-contain">
          <div class="custom__each-price-saving">
            <span>glacier° <strong>M</strong>odern Platform Foundation</span>
            <span>$xx.xx</span>
          </div>
          <div class="custom__each-price-saving">
            <span>glacier° <strong>M</strong>odern Platform Foundation</span>
            <span>$xx.xx</span>
          </div>
        </div>
      </div>
      <input
        id="custom_product"
        data-product-id="{{product.id}}"
        hidden
        type="text"
      >
      <button
        class="custom-button"
        id="add_cart"
      >
        Add to cart
      </button>
      <div class="custom__price-check">
        <div class="custom__price-check-main">
          <input type="checkbox"> Add White Glove Setup and Old Mattress Removal $225
        </div>
        <img src="{{section.settings.price_check |  image_url: width: 1000}}" width="" height="" alt="">
      </div>
      <img
        src="{{section.settings.prick_check_mark |  image_url: width: 1000}}"
        width=""
        height=""
        alt=""
        class="custom__price-check-mark"
      >
    </div>
    <div class="custom__product-detail">
      <ul class="custom__product-detail-tabs">
        <li id="custom__product-feature"><a href="#">Features</a></li>
        <li id="custom__product-materials"><a href="#">Materials & Construction</a></li>
        <li id="custom__product-size"><a href="#">Size options</a></li>
      </ul>
      <div class="custom__product-detail-content">
        {{ product.metafields.custom.feature | metafield_tag }}
      </div>
      <div class="custom__product-detail-content">
        {{ product.metafields.custom.materials_construction | metafield_tag }}
      </div>
      <div class="custom__product-detail-content">
        {{ product.metafields.custom.size_options | metafield_tag }}
      </div>
    </div>
  </div>
</div>
<script src="{{ 'customer.js'  |  asset_url}}" defer></script>

{% style %}
  .custom__product-detail {
    margin: 20px 0;
  }

  .custom__product-detail-tabs {
    display: flex;
    list-style: none;
    margin: 0;
    padding: 0;
    border-bottom: 2px solid #e5e5e5;
  }

  .custom__product-detail-tabs li {
    margin: 0;
    padding: 0;
  }

  .custom__product-detail-tabs li a {
    display: inline-block;
    padding: 12px 24px;
    text-decoration: none;
    color: #333;
    font-weight: 500;
    font-size: 16px;
    position: relative;
    transition: all 0.3s ease;
    border-bottom: 2px solid transparent;
    margin-bottom: -2px;
  }

  .custom__product-detail-tabs li a:hover {
    color: #007bff;
    background-color: #f8f9fa;
  }

  .custom__product-detail-tabs li.active a {
    color: #007bff;
    border-bottom: 2px solid #007bff;
    font-weight: 600;
  }

  .custom__product-detail-content {
    display: none;
    animation: fadeIn 0.3s ease;
    padding: 16px 0px;
  }

  .custom__product-detail-content.active {
    display: block;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Responsive styles */
  @media (max-width: 768px) {
    .custom__product-detail-tabs {
      flex-direction: column;
      border-bottom: none;
    }

    .custom__product-detail-tabs li {
      border-bottom: 1px solid #e5e5e5;
    }

    .custom__product-detail-tabs li a {
      width: 100%;
      padding: 16px;
      border-bottom: none;
      border-left: 3px solid transparent;
      margin-bottom: 0;
    }

    .custom__product-detail-tabs li.active a {
      border-bottom: none;
      border-left: 3px solid #007bff;
      background-color: #f8f9fa;
    }
  }
{% endstyle %}

{% schema %}
{
  "name": "Featured Product",
  "settings": [
    {
      "type": "product",
      "id": "featured_product",
      "label": "Select a product"
    },
    {
      "type": "image_picker",
      "id": "star",
      "label": "star"
    },
    {
      "type": "image_picker",
      "id": "included_img",
      "label": "Included Image"
    },
    {
      "type": "image_picker",
      "id": "price_check",
      "label": "Price check image"
    },
    {
      "type": "image_picker",
      "id": "prick_check_mark",
      "label": "Price Check Mark"
    }
  ],
  "presets": [
    {
      "name": "Featured Product"
    }
  ]
}
{% endschema %}
